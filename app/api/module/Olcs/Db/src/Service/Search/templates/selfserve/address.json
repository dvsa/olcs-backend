{
  "query": {
    "indices": {
      "indices": [
        "address"
      ],
      "query": {
        "bool": {
          "should": [
            {
              "multi_match": {
                "query": "%SEARCH_TERM%",
                "fuzziness": 1,
                "fields": [
                  "paon_desc",
                  "saon_desc",
                  "street",
                  "locality",
                  "town"
                ]
              }
            },
            {
              "multi_match": {
                "query": "%SEARCH_TERM%",
                "type": "phrase",
                "slop": 2,
                "fields": [
                  "full_address"
                ]
              }
            },
            {
              "wildcard": {
                "postcode": {
                  "value": "%SEARCH_TERM%*"
                }
              }
            },
            {
              "prefix": {
                "postcode": {
                  "value": "%SEARCH_TERM%"
                }
              }
            },
            {
              "match": {
                "app_id": {
                  "query": "%SEARCH_TERM%"
                }
              }
            },
            {
              "match": {
                "postcode": {
                  "query": "%SEARCH_TERM%"
                }
              }
            },
            {
              "match": {
                "lic_no": "%SEARCH_TERM%"
              }
            }
          ]
        }
      },
      "no_match_query": "none"
    }
  },
  "min_score": 0.15
}